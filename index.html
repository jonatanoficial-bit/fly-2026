<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>FlySim 2026</title>

  <link rel="manifest" href="manifest.json" />
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <style>
    :root{
      --bg:#020617;
      --panel:#0f172a;
      --card:rgba(255,255,255,.06);
      --shadow: 0 20px 50px rgba(0,0,0,.55);
      --radius:16px;
    }
    html,body{margin:0;height:100%;background:var(--bg);color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
    #map{position:fixed;inset:0;z-index:1}
    /* Topbar */
    #topbar{
      position:fixed;left:0;right:0;top:0;
      z-index:1200;
      padding:10px 12px;
      display:flex;gap:10px;align-items:center;justify-content:space-between;
      background:linear-gradient(180deg, rgba(2,6,23,.92), rgba(2,6,23,.65));
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    #brand{display:flex;gap:10px;align-items:center;font-weight:900;letter-spacing:.3px}
    #brand .dot{width:10px;height:10px;border-radius:999px;background:#60a5fa;box-shadow:0 0 18px rgba(96,165,250,.8)}
    #menuBtn{
      padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);
      background:rgba(15,23,42,.55);color:#fff;font-weight:800;
    }
    #hud{display:flex;gap:10px;align-items:center;font-size:12px;opacity:.95;}
    .chip{
      padding:8px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);
      background:rgba(15,23,42,.55);
      white-space:nowrap;
    }

    /* Panel drawer */
    #panel{
      position:fixed;top:0;right:0;height:100%;width:min(420px, 92vw);
      z-index:1300;
      background:var(--panel);
      box-shadow:-8px 0 30px rgba(0,0,0,.65);
      transform: translateX(0%);
      transition: transform .22s ease;
      display:flex;flex-direction:column;
      border-left:1px solid rgba(255,255,255,.08);
    }
    #panel.hidden{transform: translateX(105%);}
    #panelHeader{padding:58px 14px 12px;display:flex;flex-direction:column;gap:10px;}
    .card{
      background:var(--card);
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);
      padding:12px;
      box-shadow: var(--shadow);
    }
    .row{display:flex;gap:10px;align-items:center;justify-content:space-between}
    .kpi{font-size:16px;font-weight:900}
    .muted{opacity:.75}
    .small{font-size:12px}
    .btn{
      padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.18);color:#fff;font-weight:800;cursor:pointer;
    }
    .btn.primary{background:rgba(96,165,250,.20);border-color:rgba(96,165,250,.40)}
    .btn.danger{background:rgba(239,68,68,.14);border-color:rgba(239,68,68,.35)}
    #tabs{display:flex;gap:8px;flex-wrap:wrap}
    #tabs button{flex:1;min-width:92px}
    #tabs button.active{background:rgba(96,165,250,.22);border-color:rgba(96,165,250,.42)}
    #panelBody{padding:0 14px 14px;overflow:auto}
    img.aircraft{width:100%;max-width:320px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:#0b1220}
    select,input{appearance:none;-webkit-appearance:none;outline:none}
  </style>
</head>
<body>

  <div id="map" aria-label="Mapa"></div>

  <div id="topbar">
    <div id="brand"><span class="dot"></span> FlySim 2026</div>
    <div id="hud">
      <div class="chip" id="clockText">Dia 1 • 08:00</div>
      <div class="chip">Caixa: <span id="cashText">—</span></div>
      <button id="menuBtn" aria-label="Abrir painel">☰</button>
    </div>
  </div>

  <aside id="panel" aria-label="Painel de gestão">
    <div id="panelHeader">
      <div class="card">
        <div class="row">
          <div>
            <div class="kpi">Central</div>
            <div class="muted small">Gestão offline • Tycoon</div>
          </div>
          <button class="btn danger" id="closePanelBtn" type="button">Fechar</button>
        </div>
        <div style="height:10px"></div>
        <div class="row small">
          <div>Reputação: <b><span id="repText">—</span></b></div>
          <div>Modo: <b><span id="modeText">OFFLINE</span></b></div>
        </div>
        <div class="row small" style="margin-top:6px">
          <div>Clima: <b><span id="weatherText">—</span></b></div>
          <div>Temporada: <b><span id="seasonText">—</span></b></div>
        </div>
      </div>

      <div class="card">
        <div id="tabs">
          <button class="btn active" data-tab="home" type="button">Home</button>
          <button class="btn" data-tab="fleet" type="button">Frota</button>
          <button class="btn" data-tab="routes" type="button">Rotas</button>
          <button class="btn" data-tab="flights" type="button">Voos</button>
          <button class="btn" data-tab="reports" type="button">Relatórios</button>
        </div>
      </div>
    </div>

    <div id="panelBody"></div>
  </aside>

  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <script src="js/data.js"></script>
  <script src="js/store.js"></script>
  <script src="js/economy.js"></script>
  <script src="js/map.js"></script>
  <script src="js/game.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/bootstrap.js"></script>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("sw.js").catch(()=>{});
    }
  </script>
</body>
</html>
